
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="ie=edge" http-equiv="x-ua-compatible"/>
<meta content="Everything you need to know about Fetch.AI." name="description"/>
<link href="https://docs.fetch.ai/ml-skills/" rel="canonical"/>
<meta content="diarmid.campbell@fetch.ai" name="author"/>
<meta content="Copy to clipboard" name="lang:clipboard.copy"/>
<meta content="Copied to clipboard" name="lang:clipboard.copied"/>
<meta content="en" name="lang:search.language"/>
<meta content="True" name="lang:search.pipeline.stopwords"/>
<meta content="True" name="lang:search.pipeline.trimmer"/>
<meta content="No matching documents" name="lang:search.result.none"/>
<meta content="1 matching document" name="lang:search.result.one"/>
<meta content="# matching documents" name="lang:search.result.other"/>
<meta content="[\s\-]+" name="lang:search.tokenizer"/>
<link href="../assets/images/favicon.png" rel="shortcut icon"/>
<meta content="mkdocs-1.0.4, mkdocs-material-4.6.0" name="generator"/>
<title>ML skills - AEA Developer Documentation</title>
<link href="../assets/stylesheets/application.1b62728e.css" rel="stylesheet"/>
<script src="../assets/javascripts/modernizr.268332fc.js"></script>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
<link href="../assets/fonts/material-icons.css" rel="stylesheet"/>
<link href="../css/my-styles.css" rel="stylesheet"/>
</head>
<body dir="ltr">
<svg class="md-svg">
<defs>
</defs>
</svg>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<a class="md-skip" href="#preparation-instructions" tabindex="1">
        Skip to content
      </a>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a class="md-header-nav__button md-logo" href="https://docs.fetch.ai/" title="AEA Developer Documentation">
<i class="md-icon">code</i>
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
              AEA Developer Documentation
            </span>
<span class="md-header-nav__topic">
              
                ML skills
              
            </span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
</div>
</div>
</nav>
</header>
<div class="md-container">
<nav class="md-tabs md-tabs--active" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="..">
          AEA Framework
        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" role="main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title md-nav__title--site" for="__drawer">
<a class="md-nav__button md-logo" href="https://docs.fetch.ai/" title="AEA Developer Documentation">
<i class="md-icon">code</i>
</a>
    AEA Developer Documentation
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-toggle md-nav__toggle" data-md-toggle="nav-1" id="nav-1" type="checkbox"/>
<label class="md-nav__link" for="nav-1">
      AEA Framework
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-1">
        AEA Framework
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href=".." title="Welcome">
      Welcome
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-2" id="nav-1-2" type="checkbox"/>
<label class="md-nav__link" for="nav-1-2">
      Getting started
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-1-2">
        Getting started
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../steps/" title="Ways to build an AEA">
      Ways to build an AEA
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../quickstart/" title="AEA quick start">
      AEA quick start
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../aea-vs-mvc/" title="AEA and web frameworks">
      AEA and web frameworks
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../build-aea-step-by-step/" title="Build an AEA with the CLI">
      Build an AEA with the CLI
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../skill-guide/" title="Build a skill for an AEA">
      Build a skill for an AEA
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../build-aea-programmatically/" title="Build an AEA programmatically">
      Build an AEA programmatically
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../agent-vs-aea/" title="AEAs vs agents">
      AEAs vs agents
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-3" id="nav-1-3" type="checkbox"/>
<label class="md-nav__link" for="nav-1-3">
      The AEA universe
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-1-3">
        The AEA universe
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../agent-oriented-development/" title="Agent-oriented development">
      Agent-oriented development
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../vision/" title="Vision">
      Vision
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../app-areas/" title="Application areas">
      Application areas
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../oef-ledger/" title="Relation to OEF and Ledger">
      Relation to OEF and Ledger
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../trust/" title="Trust issues">
      Trust issues
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-toggle md-nav__toggle" data-md-toggle="nav-1-4" id="nav-1-4" type="checkbox"/>
<label class="md-nav__link" for="nav-1-4">
      Demo guides
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-1-4">
        Demo guides
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../car-park-skills/" title="Car park skills">
      Car park skills
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../gym-example/" title="Gym example">
      Gym example
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../gym-skill/" title="Gym skill">
      Gym skill
    </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-toggle md-nav__toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        ML skills
      </label>
<a class="md-nav__link md-nav__link--active" href="./" title="ML skills">
      ML skills
    </a>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#preparation-instructions">
    Preparation instructions
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#dependencies">
    Dependencies
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#discussion">
    Discussion
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#launch-an-oef-node">
    Launch an OEF node
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#demo-instructions-1-no-ledger-payment">
    Demo instructions 1 - no ledger payment:
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#create-the-data-provider-aea">
    Create the data provider AEA
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#alternatively-install-the-aea-directly">
    Alternatively, install the AEA directly
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#install-the-dependencies">
    Install the dependencies
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#run-the-data-provider-aea">
    Run the data provider AEA
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-the-model-trainer-aea">
    Create the model trainer AEA
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#alternatively-install-the-aea-directly_1">
    Alternatively, install the AEA directly
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#install-the-dependencies_1">
    Install the dependencies
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#run-the-model-trainer-aea">
    Run the model trainer AEA
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#demo-instructions-ledger-payment">
    Demo instructions - Ledger payment:
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#create-the-data-provider-aea_1">
    Create the data provider AEA
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-the-model-trainer-aea_1">
    Create the model trainer AEA
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#update-the-aea-configs">
    Update the AEA configs
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fund-the-ml-model-trainer-aea">
    Fund the ml model trainer AEA
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#update-the-skill-configs">
    Update the skill configs
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#run-both-aeas">
    Run both AEAs
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#clean-up">
    Clean up
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#communication">
    Communication
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../tac-skills/" title="TAC skills">
      TAC skills
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../tac/" title="TAC external app">
      TAC external app
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../weather-skills/" title="Weather skills">
      Weather skills
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../thermometer-skills/" title="Thermometer skills">
      Thermometer skills
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-5" id="nav-1-5" type="checkbox"/>
<label class="md-nav__link" for="nav-1-5">
      Use cases
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-1-5">
        Use cases
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../generic-skills/" title="Generic skills">
      Generic skills
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../orm-integration-to-generic/" title="ORM integration">
      ORM integration
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../connect-a-frontend/" title="Frontend intergration">
      Frontend intergration
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cli-vs-programmatic-aeas/" title="CLI vs programmatic AEAs">
      CLI vs programmatic AEAs
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-6" id="nav-1-6" type="checkbox"/>
<label class="md-nav__link" for="nav-1-6">
      Step by step guides
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-1-6">
        Step by step guides
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../thermometer-skills-step-by-step/" title="Thermometer skills step by step">
      Thermometer skills step by step
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-7" id="nav-1-7" type="checkbox"/>
<label class="md-nav__link" for="nav-1-7">
      Architecture
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-1-7">
        Architecture
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../design-principles/" title="Design principles">
      Design principles
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../diagram/" title="Architectural diagram">
      Architectural diagram
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../core-components/" title="Core components">
      Core components
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../file-structure/" title="File structure">
      File structure
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-8" id="nav-1-8" type="checkbox"/>
<label class="md-nav__link" for="nav-1-8">
      CLI
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-1-8">
        CLI
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../cli-how-to/" title="Installation">
      Installation
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cli-commands/" title="Commands">
      Commands
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../package-imports/" title="Package structure">
      Package structure
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cli-gui/" title="GUI">
      GUI
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../wealth/" title="Generating wealth">
      Generating wealth
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-9" id="nav-1-9" type="checkbox"/>
<label class="md-nav__link" for="nav-1-9">
      Developer guides
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-1-9">
        Developer guides
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../version/" title="Version">
      Version
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../skill/" title="Skill">
      Skill
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../protocol/" title="Protocol">
      Protocol
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../connection/" title="Connection">
      Connection
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../scaffolding/" title="Scaffolding packages">
      Scaffolding packages
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../generator/" title="Generating protocols">
      Generating protocols
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../logging/" title="Logging">
      Logging
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../raspberry-set-up/" title="Build an AEA on a Raspberry Pi">
      Build an AEA on a Raspberry Pi
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../integration/" title="Using public ledgers">
      Using public ledgers
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../multiplexer-standalone/" title="Use multiplexer stand-alone">
      Use multiplexer stand-alone
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../standalone-transaction/" title="Create stand-alone transaction">
      Create stand-alone transaction
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../decision-maker-transaction/" title="Create decision-maker transaction">
      Create decision-maker transaction
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../questions-and-answers/" title="Q&amp;A">
      Q&amp;A
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#preparation-instructions">
    Preparation instructions
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#dependencies">
    Dependencies
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#discussion">
    Discussion
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#launch-an-oef-node">
    Launch an OEF node
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#demo-instructions-1-no-ledger-payment">
    Demo instructions 1 - no ledger payment:
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#create-the-data-provider-aea">
    Create the data provider AEA
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#alternatively-install-the-aea-directly">
    Alternatively, install the AEA directly
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#install-the-dependencies">
    Install the dependencies
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#run-the-data-provider-aea">
    Run the data provider AEA
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-the-model-trainer-aea">
    Create the model trainer AEA
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#alternatively-install-the-aea-directly_1">
    Alternatively, install the AEA directly
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#install-the-dependencies_1">
    Install the dependencies
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#run-the-model-trainer-aea">
    Run the model trainer AEA
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#demo-instructions-ledger-payment">
    Demo instructions - Ledger payment:
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#create-the-data-provider-aea_1">
    Create the data provider AEA
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-the-model-trainer-aea_1">
    Create the model trainer AEA
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#update-the-aea-configs">
    Update the AEA configs
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fund-the-ml-model-trainer-aea">
    Fund the ml model trainer AEA
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#update-the-skill-configs">
    Update the skill configs
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#run-both-aeas">
    Run both AEAs
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#clean-up">
    Clean up
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#communication">
    Communication
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<h1>ML skills</h1>
<p>The AEA ml skills demonstrate an interaction between two AEAs trading data.</p>
<p>There are two types of AEAs:</p>
<ul>
<li>The ml data provider which sells training data.</li>
<li>The ml model trainer which trains a model</li>
</ul>
<h2 id="preparation-instructions">Preparation instructions</h2>
<h3 id="dependencies">Dependencies</h3>
<p>Follow the <a href="../quickstart/#preliminaries">Preliminaries</a> and <a href="../quickstart/#installation">Installation</a> sections from the AEA quick start.</p>
<h2 id="discussion">Discussion</h2>
<p>The scope of the specific demo is to demonstrate how to create a simple AEA with integration of machine learning, and the usage of the AEA framework. The ml_data_provider AEA
will provide some sample data and will deliver to the client upon payment. Once the client gets the data, it will train the model. The process can be found in the <code>tasks.py</code> file.
This demo does not utilize a smart contract. As a result, we interact with a ledger only to complete a transaction.</p>
<p>Since the AEA framework enables us to use third-party libraries hosted on PyPI we can directly reference the external dependencies.
The <code>aea install</code> command will install each dependency that the specific AEA needs and is listed in the skill's YAML file. </p>
<h3 id="launch-an-oef-node">Launch an OEF node</h3>
<p>In a separate terminal, launch a local OEF node (for search and discovery).
<div class="highlight"><pre><span></span>python scripts/oef/launch.py -c ./scripts/oef/launch_config.json
</pre></div></p>
<p>Keep it running for all the following demos.</p>
<h2 id="demo-instructions-1-no-ledger-payment">Demo instructions 1 - no ledger payment:</h2>
<h3 id="create-the-data-provider-aea">Create the data provider AEA</h3>
<p>Create the AEA that will provide the data.</p>
<div class="highlight"><pre><span></span>aea create ml_data_provider
<span class="nb">cd</span> ml_data_provider
aea add connection fetchai/oef:0.1.0
aea add skill fetchai/ml_data_provider:0.1.0
aea install
</pre></div>
<h3 id="alternatively-install-the-aea-directly">Alternatively, install the AEA directly</h3>
<p>In the root directory, fetch the data provider AEA and enter the project.
<div class="highlight"><pre><span></span>aea fetch fetchai/ml_data_provider:0.1.0
<span class="nb">cd</span> ml_data_provider
</pre></div>
The <code>aea fetch</code> command creates the entire AEA, including its dependencies for you.</p>
<h3 id="install-the-dependencies">Install the dependencies</h3>
<p>The ml data provider uses <code>tensorflow</code> and <code>numpy</code>.
<div class="highlight"><pre><span></span>aea install
</pre></div></p>
<h3 id="run-the-data-provider-aea">Run the data provider AEA</h3>
<div class="highlight"><pre><span></span>aea run --connections fetchai/oef:0.1.0
</pre></div>
<h3 id="create-the-model-trainer-aea">Create the model trainer AEA</h3>
<p>In a separate terminal, in the root directory, create the model trainer AEA.</p>
<div class="highlight"><pre><span></span>aea create ml_model_trainer
<span class="nb">cd</span> ml_model_trainer
aea add connection fetchai/oef:0.1.0
aea add skill fetchai/ml_train:0.1.0
aea install
</pre></div>
<h3 id="alternatively-install-the-aea-directly_1">Alternatively, install the AEA directly</h3>
<p>In the root directory, fetch the data provider AEA and enter the project.
<div class="highlight"><pre><span></span>aea fetch fetchai/ml_model_trainer:0.1.0
<span class="nb">cd</span> ml_model_trainer
</pre></div></p>
<h3 id="install-the-dependencies_1">Install the dependencies</h3>
<p>The ml data provider uses <code>tensorflow</code> and <code>numpy</code>.
<div class="highlight"><pre><span></span>aea install
</pre></div></p>
<h3 id="run-the-model-trainer-aea">Run the model trainer AEA</h3>
<div class="highlight"><pre><span></span>aea run --connections fetchai/oef:0.1.0
</pre></div>
<p>After some time, you should see the AEAs transact and the model trainer train its model.</p>
<h2 id="demo-instructions-ledger-payment">Demo instructions - Ledger payment:</h2>
<p>We will now run the same demo but with a real ledger transaction on Fetch.ai or Ethereum <code>ropsten</code> network. This demo assumes the buyer
trusts the seller AEA to send the data upon successful payment.</p>
<h3 id="create-the-data-provider-aea_1">Create the data provider AEA</h3>
<p>Create the AEA that will provide the data.</p>
<div class="highlight"><pre><span></span>aea create ml_data_provider
<span class="nb">cd</span> ml_data_provider
aea add connection fetchai/oef:0.1.0
aea add skill fetchai/ml_data_provider:0.1.0
aea install
</pre></div>
<h3 id="create-the-model-trainer-aea_1">Create the model trainer AEA</h3>
<p>In a separate terminal, in the root directory, create the model trainer AEA.</p>
<div class="highlight"><pre><span></span>aea create ml_model_trainer
<span class="nb">cd</span> ml_model_trainer
aea add connection fetchai/oef:0.1.0
aea add skill fetchai/ml_train:0.1.0
aea install
</pre></div>
<p>Additionally, create the private key for the model trainer AEA based on the network you want to transact.</p>
<p>To generate and add a key for Fetch.ai use:
<div class="highlight"><pre><span></span>aea generate-key fetchai
aea add-key fetchai fet_private_key.txt
</pre></div></p>
<p>To generate and add a key for Ethereum use:
<div class="highlight"><pre><span></span>aea generate-key ethereum
aea add-key ethereum eth_private_key.txt
</pre></div></p>
<h3 id="update-the-aea-configs">Update the AEA configs</h3>
<p>Both in <code>ml_model_trainer/aea-config.yaml</code> and
<code>ml_data_provider/aea-config.yaml</code>, replace <code>ledger_apis: {}</code> with the following based on the network you want to connect.</p>
<p>To connect to Fetchai:
<div class="highlight"><pre><span></span><span class="nt">ledger_apis</span><span class="p">:</span>
  <span class="nt">fetchai</span><span class="p">:</span>
    <span class="nt">network</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">testnet</span>
</pre></div></p>
<p>To connect to Ethereum:
<div class="highlight"><pre><span></span><span class="nt">ledger_apis</span><span class="p">:</span>
  <span class="nt">ethereum</span><span class="p">:</span>
    <span class="nt">address</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://ropsten.infura.io/v3/f00f7b3ba0e848ddbdc8941c527447fe</span>
    <span class="nt">chain_id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
    <span class="nt">gas_price</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">50</span>
</pre></div></p>
<h3 id="fund-the-ml-model-trainer-aea">Fund the ml model trainer AEA</h3>
<p>Create some wealth for your ml model trainer based on the network you want to transact with: </p>
<p>On the Fetch.ai <code>testnet</code> network.
<div class="highlight"><pre><span></span>aea generate-wealth fetchai
</pre></div></p>
<p>On the Ethereum <code>ropsten</code> . (It takes a while).
<div class="highlight"><pre><span></span>aea generate-wealth ethereum
</pre></div></p>
<h3 id="update-the-skill-configs">Update the skill configs</h3>
<p>In the ml data provider skill config (<code>ml_data_provider/skills/ml_data_provider/skill.yaml</code>) under strategy, amend the <code>currency_id</code> and <code>ledger_id</code> as follows.</p>
<div class="highlight"><pre><span></span><span class="p">|</span>----------------------------------------------------------------------<span class="p">|</span>
<span class="p">|</span>         FETCHAI                   <span class="p">|</span>           ETHEREUM               <span class="p">|</span>
<span class="p">|</span>-----------------------------------<span class="p">|</span>----------------------------------<span class="p">|</span>
<span class="p">|</span>models:                            <span class="p">|</span>models:                           <span class="p">|</span>              
<span class="p">|</span>  strategy:                        <span class="p">|</span>  strategy:                       <span class="p">|</span>
<span class="p">|</span>     class_name: Strategy          <span class="p">|</span>     class_name: Strategy         <span class="p">|</span>
<span class="p">|</span>    args:                          <span class="p">|</span>    args:                         <span class="p">|</span>
<span class="p">|</span>      price_per_data_batch: <span class="m">100</span>    <span class="p">|</span>      price_per_data_batch: <span class="m">100</span>   <span class="p">|</span>
<span class="p">|</span>      batch_size: <span class="m">2</span>                <span class="p">|</span>      batch_size: <span class="m">2</span>               <span class="p">|</span>
<span class="p">|</span>      seller_tx_fee: <span class="m">0</span>             <span class="p">|</span>      seller_tx_fee: <span class="m">0</span>            <span class="p">|</span>
<span class="p">|</span>      buyer_tx_fee: <span class="m">10</span>             <span class="p">|</span>      buyer_tx_fee: <span class="m">10</span>            <span class="p">|</span>
<span class="p">|</span>      dataset_id: <span class="s1">'fmnist'</span>         <span class="p">|</span>      dataset_id: <span class="s1">'fmnist'</span>        <span class="p">|</span>
<span class="p">|</span>      currency_id: <span class="s1">'FET'</span>           <span class="p">|</span>      currency_id: <span class="s1">'ETH'</span>          <span class="p">|</span>
<span class="p">|</span>      ledger_id: <span class="s1">'fetchai'</span>         <span class="p">|</span>      ledger_id: <span class="s1">'ethereum'</span>       <span class="p">|</span>
<span class="p">|</span>      is_ledger_tx: True           <span class="p">|</span>      is_ledger_tx: True          <span class="p">|</span>
<span class="p">|</span>----------------------------------------------------------------------<span class="p">|</span> 
</pre></div>
<p>An other way to update the skill config is via the <code>aea config get/set</code> command.
<div class="highlight"><pre><span></span>aea config <span class="nb">set</span> vendor.fetchai.skills.ml_data_provider.models.strategy.args.currency_id ETH
aea config <span class="nb">set</span> vendor.fetchai.skills.ml_data_provider.models.strategy.args.ledger_id ethereum
</pre></div></p>
<p>In the ml model trainer skill config (<code>ml_model_trainer/skills/ml_train/skill.yaml</code>) under strategy, amend the <code>currency_id</code> and <code>ledger_id</code> as follows.</p>
<div class="highlight"><pre><span></span><span class="p">|</span>----------------------------------------------------------------------<span class="p">|</span>
<span class="p">|</span>         FETCHAI                   <span class="p">|</span>           ETHEREUM               <span class="p">|</span>
<span class="p">|</span>-----------------------------------<span class="p">|</span>----------------------------------<span class="p">|</span>
<span class="p">|</span>models:                            <span class="p">|</span>models:                           <span class="p">|</span>              
<span class="p">|</span>  strategy:                        <span class="p">|</span>  strategy:                       <span class="p">|</span>
<span class="p">|</span>     class_name: Strategy          <span class="p">|</span>     class_name: Strategy         <span class="p">|</span>
<span class="p">|</span>    args:                          <span class="p">|</span>    args:                         <span class="p">|</span>
<span class="p">|</span>      dataset_id: <span class="s1">'fmnist'</span>         <span class="p">|</span>      dataset_id: <span class="s1">'fmnist'</span>        <span class="p">|</span>
<span class="p">|</span>      max_unit_price: <span class="m">70</span>           <span class="p">|</span>      max_unit_price: <span class="m">70</span>          <span class="p">|</span>
<span class="p">|</span>      max_buyer_tx_fee: <span class="m">20</span>         <span class="p">|</span>      max_buyer_tx_fee: <span class="m">20</span>        <span class="p">|</span>
<span class="p">|</span>      currency_id: <span class="s1">'FET'</span>           <span class="p">|</span>      currency_id: <span class="s1">'ETH'</span>          <span class="p">|</span>
<span class="p">|</span>      ledger_id: <span class="s1">'fetchai'</span>         <span class="p">|</span>      ledger_id: <span class="s1">'ethereum'</span>       <span class="p">|</span>
<span class="p">|</span>      is_ledger_tx: True           <span class="p">|</span>      is_ledger_tx: True          <span class="p">|</span>
<span class="p">|</span>----------------------------------------------------------------------<span class="p">|</span> 
</pre></div>
<p>An other way to update the skill config is via the <code>aea config get/set</code> command.
<div class="highlight"><pre><span></span>aea config <span class="nb">set</span> vendor.fetchai.skills.ml_train.models.strategy.args.max_buyer_tx_fee <span class="m">10000</span> --type int
aea config <span class="nb">set</span> vendor.fetchai.skills.ml_train.models.strategy.args.currency_id ETH
aea config <span class="nb">set</span> vendor.fetchai.skills.ml_train.models.strategy.args.ledger_id ethereum
</pre></div></p>
<h3 id="run-both-aeas">Run both AEAs</h3>
<p>From their respective directories, run both AEAs
<div class="highlight"><pre><span></span>aea run --connections fetchai/oef:0.1.0
</pre></div></p>
<h3 id="clean-up">Clean up</h3>
<div class="highlight"><pre><span></span><span class="nb">cd</span> ..
aea delete ml_data_provider
aea delete ml_model_trainer
</pre></div>
<h2 id="communication">Communication</h2>
<p>This diagram shows the communication between the two AEAs.</p>
<div class="mermaid">
    sequenceDiagram
        participant ml_model_trainer
        participant ml_data_provider
        participant Search
        participant Ledger

        activate ml_model_trainer
        activate ml_data_provider
        activate Search
        activate Ledger

        ml_data_provider-&gt;&gt;Search: register_service
        ml_model_trainer-&gt;&gt;Search: search
        Search--&gt;&gt;ml_model_trainer: list_of_agents
        ml_model_trainer-&gt;&gt;ml_data_provider: call_for_terms
        ml_data_provider-&gt;&gt;ml_model_trainer: terms
        ml_model_trainer-&gt;&gt;Ledger: request_transaction
        ml_model_trainer-&gt;&gt;ml_data_provider: accept (incl transaction_hash)
        ml_data_provider-&gt;&gt;Ledger: check_transaction_status
        ml_data_provider-&gt;&gt;ml_model_trainer: data
        loop train
            ml_model_trainer-&gt;&gt;ml_model_trainer: tran_model
        end

        deactivate ml_model_trainer
        deactivate ml_data_provider
        deactivate Search
        deactivate Ledger

</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a class="md-flex md-footer-nav__link md-footer-nav__link--prev" href="../gym-skill/" rel="prev" title="Gym skill">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                Gym skill
              </span>
</div>
</a>
<a class="md-flex md-footer-nav__link md-footer-nav__link--next" href="../tac-skills/" rel="next" title="TAC skills">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                TAC skills
              </span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
</div>
</div>
</div>
</footer>
</div>
<script src="../assets/javascripts/application.808e90bb.js"></script>
<script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
<script src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js"></script>
</body>
</html>